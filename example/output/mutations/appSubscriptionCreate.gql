mutation appSubscriptionCreate($first: Int, $after: String, $last: Int, $before: String, $reverse: Boolean, $sortKey: AppUsageRecordSortKeys, $first1: Int, $after1: String, $last1: Int, $before1: String, $reverse1: Boolean, $sortKey1: AppUsageRecordSortKeys, $name: String!, $lineItems: [AppSubscriptionLineItemInput!]!, $test: Boolean, $trialDays: Int, $returnUrl: URL!){
    appSubscriptionCreate(name: $name, lineItems: $lineItems, test: $test, trialDays: $trialDays, returnUrl: $returnUrl){
        appSubscription{
            createdAt
            currentPeriodEnd
            id
            lineItems{
                id
                plan{
                    pricingDetails{
                        ... on AppRecurringPricing {
                            discount{
                                durationLimitInIntervals
                                priceAfterDiscount{
                                    amount
                                    currencyCode
                                }
                                remainingDurationInIntervals
                                value{
                                    ... on AppSubscriptionDiscountAmount {
                                        amount{
                                            amount
                                            currencyCode
                                        }
                                    }
                                    ... on AppSubscriptionDiscountPercentage {
                                        percentage
                                    }
                                }
                            }
                            interval
                            price{
                                amount
                                currencyCode
                            }
                        }
                        ... on AppUsagePricing {
                            balanceUsed{
                                amount
                                currencyCode
                            }
                            cappedAmount{
                                amount
                                currencyCode
                            }
                            interval
                            terms
                        }
                    }
                }
                usageRecords(first: $first1, after: $after1, last: $last1, before: $before1, reverse: $reverse1, sortKey: $sortKey1){
                    edges{
                        cursor
                        node{
                            createdAt
                            description
                            id
                            price{
                                amount
                                currencyCode
                            }
                            subscriptionLineItem{
                                id
                                plan{
                                    pricingDetails{
                                        ... on AppRecurringPricing {
                                            discount{
                                                durationLimitInIntervals
                                                priceAfterDiscount{
                                                    amount
                                                    currencyCode
                                                }
                                                remainingDurationInIntervals
                                                value{
                                                    ... on AppSubscriptionDiscountAmount {
                                                        amount{
                                                            amount
                                                            currencyCode
                                                        }
                                                    }
                                                    ... on AppSubscriptionDiscountPercentage {
                                                        percentage
                                                    }
                                                }
                                            }
                                            interval
                                            price{
                                                amount
                                                currencyCode
                                            }
                                        }
                                        ... on AppUsagePricing {
                                            balanceUsed{
                                                amount
                                                currencyCode
                                            }
                                            cappedAmount{
                                                amount
                                                currencyCode
                                            }
                                            interval
                                            terms
                                        }
                                    }
                                }
                                usageRecords(first: $first, after: $after, last: $last, before: $before, reverse: $reverse, sortKey: $sortKey){
                                    nodes{
                                        createdAt
                                        description
                                        id
                                        price{
                                            amount
                                            currencyCode
                                        }
                                        subscriptionLineItem{
                                            id
                                        }
                                    }
                                    pageInfo{
                                        endCursor
                                        hasNextPage
                                        hasPreviousPage
                                        startCursor
                                    }
                                }
                            }
                        }
                    }
                }
            }
            name
            returnUrl
            status
            test
            trialDays
        }
        confirmationUrl
        userErrors{
            field
            message
        }
    }
}