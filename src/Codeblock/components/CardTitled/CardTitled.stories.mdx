import {Canvas, Meta, Story, ArgsTable} from '@storybook/addon-docs';
import {mockActionsSimple} from 'app/ui/mocks/Codeblock';
import {CodeblockContent, TabbedCodeblock} from 'app/ui/components/Codeblock';

import {CardTitled} from './CardTitled';

<Meta title="Codeblock/CardTitled" component={CardTitled} />

# Card Titled

This is the main container for encasing components, in particular Codeblocks compositions.

<ArgsTable of={CardTitled} />

Secondary Props:

>

- `titleProps`
  - `content` Title content
  - `prefix` Title prefix
  - `postfix` Title postfix (suffix)
  - `actions` Title actions

---

Containing plain text inside.

<Canvas>
  <Story name="Card">
    <CardTitled
      titleProps={{
        content: 'Title',
      }}
    >
      Generic content
    </CardTitled>
  </Story>
</Canvas>

Containing a `CodeblockContent` component inside.

<Canvas>
  <Story name="Card with Codeblock">
    <CardTitled
      titleProps={{
        content: 'Title',
      }}
    >
      <CodeblockContent content="const foo: string = 'bar'" language="ts" />
    </CardTitled>
  </Story>
</Canvas>

Containing a `Tabbed Codeblock` component inside.

<Canvas>
  <Story name="Card with Tabbed Codeblock">
    <CardTitled
      titleProps={{
        content: 'Title',
      }}
    >
      <TabbedCodeblock
        tabs={[
          {
            key: '01',
            title: 'javascript',
            content: (
              <CodeblockContent content="var foo = bar;" language="js" />
            ),
          },
          {
            key: '02',
            title: 'ts',
            content: (
              <CodeblockContent
                content="const foo: string = 'bar'"
                language="ts"
              />
            ),
          },
        ]}
      />
    </CardTitled>
  </Story>
</Canvas>

# Options

Card Titled with a Postfix.

<Canvas>
  <Story name="Card with a Postfix">
    <CardTitled
      titleProps={{
        content: 'Title',
        postfix: 'Postfix',
      }}
    >
      <TabbedCodeblock
        tabs={[
          {
            key: '01',
            title: 'javascript',
            content: (
              <CodeblockContent content="var foo = bar;" language="js" />
            ),
          },
          {
            key: '02',
            title: 'ts',
            content: (
              <CodeblockContent
                content="const foo: string = 'bar'"
                language="ts"
              />
            ),
          },
        ]}
      />
    </CardTitled>
  </Story>
</Canvas>

Card Titled with Actions.

<Canvas>
  <Story name="Card with Actions">
    <CardTitled
      titleProps={{
        content: 'Title',
        actions: mockActionsSimple,
      }}
    >
      <TabbedCodeblock
        tabs={[
          {
            key: '01',
            title: 'javascript',
            content: (
              <CodeblockContent content="var foo = bar;" language="js" />
            ),
          },
          {
            key: '02',
            title: 'ts',
            content: (
              <CodeblockContent
                content="const foo: string = 'bar'"
                language="ts"
              />
            ),
          },
        ]}
      />
    </CardTitled>
  </Story>
</Canvas>

Card Titled with Actions and a Postfix.

<Canvas>
  <Story name="Card with Actions and Postfix">
    <CardTitled
      titleProps={{
        content: 'Title',
        actions: mockActionsSimple,
        postfix: 'Postfix',
      }}
    >
      <TabbedCodeblock
        actions={mockActionsSimple}
        tabs={[
          {
            key: '01',
            title: 'javascript',
            content: (
              <CodeblockContent content="var foo = bar;" language="js" />
            ),
          },
          {
            key: '02',
            title: 'ts',
            content: (
              <CodeblockContent
                content="const foo: string = 'bar'"
                language="ts"
              />
            ),
          },
        ]}
      />
    </CardTitled>
  </Story>
</Canvas>

Card Titled with `Compacted` style.

<Canvas>
  <Story name="Card with Compacted Style">
    <CardTitled
      compacted
      titleProps={{
        content: 'Title',
        actions: mockActionsSimple,
        postfix: 'Postfix',
      }}
    >
      <CodeblockContent
        content={`
 const data = await client.post({
    path: 'orders',
    body: {"order":{"line_items":[{"variant_id":447654529,"quantity":1}]}},
    type: DataType.JSON,
  });
        `}
        language="json"
      />
    </CardTitled>
    <br />
    <CardTitled
      compacted
      titleProps={{
        content: 'Title',
        actions: mockActionsSimple,
      }}
    >
      <CodeblockContent
        content={`
 const data = await client.post({
    path: 'orders',
    body: {"order":{"line_items":[{"variant_id":447654529,"quantity":1}]}},
    type: DataType.JSON,
  });
        `}
        language="json"
      />
    </CardTitled>
  </Story>
</Canvas>

Card Titled with `Compacted` and `oneLiner` style.

(For use when the title must be on the same plane as the first line)

<Canvas>
  <Story name="Card with Compacted and oneLiner Style">
    <CardTitled
      compacted
      oneLiner
      titleProps={{
        content: 'Title',
        actions: mockActionsSimple,
      }}
    >
      <TabbedCodeblock
        tabs={[
          {
            key: 1,
            title: 'i am hidden',
            content: (
              <CodeblockContent content="var bar, foo = bar;" language="js" />
            ),
          },
        ]}
      />
    </CardTitled>
  </Story>
</Canvas>

Other test cases:

<Canvas>
  <Story name="Card with undefined titleProps does not render unnecessary title bar">
    <CardTitled titleProps={{className: undefined}}>
      <TabbedCodeblock
        tabs={[
          {
            key: 1,
            title: 'i am hidden',
            content: (
              <CodeblockContent
                content={'var foo = bar;\nfoo = "test";'}
                language="js"
              />
            ),
          },
        ]}
      />
    </CardTitled>
  </Story>
</Canvas>
